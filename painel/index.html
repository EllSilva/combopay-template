<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel</title>
    <link rel="stylesheet" href="./assets/css/index.css">
    <link rel="shortcut icon" href="./assets/logo/ico.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.js" defer></script>
    <script src="./assets/js/library/qrcode.js" defer></script>
    <script src="./assets/js/index.js" type="module" defer></script>
</head>

<body>
    <div id="app" :class="{open}">
        <router-view></router-view>
    </div>

    <template id="login">
        <div class="l-login">
            <div>
                <form action="javascript:void(0)" class="form b-login" @submit="login()">
                    <img src="./assets/logo/logo.svg">
                    <input v-model="email" type="email" placeholder="E-mail" required>
                    <input v-model="password" type="password" placeholder="Senha" required>
                    <button type="submit" class="btn btn--success">ENTRAR</button>
                    <div v-if="message_error" class="error">
                        E-mail ou senha incorretos
                    </div>
                    <a href="#/recuperar-senha" class="link link--login">esqueceu sua senha?</a>
                </form>
            </div>
            <div>
                &copy; 2021 - Digital Combo
            </div>
            <div class="loading" v-if="loading"></div>
        </div>
    </template>

    <template id="recuperar_senha">
        <div class="l-login">
            <div>
                <form action="javascript:void(0)" @submit="recuperar_senha()" class="form b-login">
                    <img src="./assets/logo/logo.svg">
                    <input type="email" v-model="email" placeholder="E-mail" required>
                    <button type="submit" class="btn btn--success">Recuperar senha</button>
                    <span v-if="message" class="success"> senha temporária enviada por email </span>
                    <a href="#/" class="link link--login">Entrar</a>
                </form>
            </div>
            <div>
                &copy; 2021 - Digital Combo
            </div>
        </div>
    </template>

    <template id="c-footer">
        <div class="a-footer">
            <span>&copy; 2021 - Digital Combo </span>
        </div>
    </template>

    <template id="c-inicio">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div>
                <c-step></c-step>
                <div class="a-body padding-20">
                    <div class="space"></div>
                    <div class="g g-3">
                        <div class="resumo" v-for="item in resumos">
                            <div :style="{backgroundColor: item.color}">
                                <img :src="'./assets/icon/'+item.ico">
                            </div>
                            <span>
                                <small>{{item.label}}</small>
                                <b>{{item.valor | money}} </b>
                            </span>
                            <span>{{item.estimativa}}</span>
                        </div>
                    </div>
                    <div class="space"></div>

                    <div class="box-relatorio">
                        <label for="">Faturas</label>
                        <canvas ref="graph_faturas" width="100%" height="100"></canvas>
                    </div>

                    <div class="g g-2">
                        <div class="box-relatorio">
                            <label for="">Quantidade de Doações</label>
                            <canvas ref="graph_quantidade_doacao" width="100%" height="100"></canvas>
                        </div>
                        <div class="box-relatorio">
                            <label for="">Forma de Pagamento</label>
                            <canvas ref="graph_forma_pagamento" width="100%" height="100"></canvas>
                        </div>
                    </div>

                    <div class="g g-3">
                        <div class="box-relatorio">
                            <label for="">Status Doação</label>
                            <canvas ref="graph_status_doacao" width="100%" height="100"></canvas>
                        </div>
                        <div class="box-relatorio">
                            <label for="">Tipos Doadores</label>
                            <canvas ref="graph_tipos_doadores" width="100%" height="100"></canvas>
                        </div>
                        <div class="box-relatorio">
                            <label for="">Status Doadores</label>
                            <canvas ref="graph_status_doadores" width="100%" height="100"></canvas>
                        </div>
                    </div>

                    <a :href="link" download="relatorio-geral.csv" class="button-export"> 
                        EXPORTAR CSV 
                    </a>
                </div>
            </div>
            <c-footer></c-footer>
            <div class="loading" v-if="loading"></div>
        </div>
    </template>

    <template id="c-aside">
        <div class="a-aside">
            <div class="aside__link aside__link--gravatar">
                <img src="./assets/img/gravatar.png">
                <span> Jose Antonio</span>
            </div>
            <c-menu></c-menu>
        </div>
    </template>

    <template id="inicio">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-metas">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Metas 2021</h1>
                    <form action="javascript:void(0)" @submit="save()" class="form">
                        <div class="g g-4">
                            <div v-for="(mes, index) in meses">
                                <label for=""> {{ mes }} </label>
                                <input type="text" @input="playload[index] = mask_money(playload[index]) "
                                    :disabled="is_flag" v-model="playload[index]" placeholder="12.000" class="i-monei">
                            </div>
                            <div>
                                <button type="submit" :disabled="is_flag" class="btn btn--success">Salvar</button>
                            </div>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                </div>
            </div>
            <c-footer></c-footer>
            <div class="loading" v-if="loading"></div>
        </div>
    </template>

    <template id="c-perfil">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Perfil</h1>
                    <form action="javascript:void(0)" @submit="atualizar()" class="form">
                        <div>
                            <label for="">Nome</label>
                            <input v-model="nome" type="text" required>
                        </div>
                        <div class="g g-2">
                            <div>
                                <label for="">Telefone</label>
                                <input v-model="telefone" type="text" required>
                            </div>
                            <div>
                                <label for="">email</label>
                                <input v-model="email" type="email" disabled required>
                            </div>
                            <div>
                                <button type="submit" class="btn btn--success">Salvar</button>
                            </div>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                    <div class="space"></div>
                    <h2>Alterar senha</h2>
                    <form action="javascript:void(0)" @submit="alterar_senha()" class="form">
                        <div class="g g-2">
                            <div>
                                <label for="">Digita a senha</label>
                                <input type="password" v-model="senha" required>
                            </div>
                            <div>
                                <label for="">Repita a senha</label>
                                <input type="password" v-model="confirmar_senha" required>
                            </div>
                            <div>
                                <button type="submit" class="btn btn--success">alterar senha</button>
                            </div>
                        </div>
                    </form>
                    <div class="error" v-if="messageAlterPass.status" v-html="messageAlterPass.text"> </div>
                    <span v-if="error2.status" :class="error2.type"> {{error.text}} </span>
                </div>

            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-brindes">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Brindes</h1>
                    <form action="javascript:void(0)" class="form">
                        <div class="g g-2">
                            <div>
                                <div>
                                    <label for="">Periodos</label>
                                    <select>
                                        <option value="">Últimos 30 dias</option>
                                        <option value="">Últimos 60 dias</option>
                                        <option value="">Peridos Customisado</option>
                                    </select>
                                </div>
                                <div class="g g-2">
                                    <div>
                                        <label for="">Data Ínicio</label>
                                        <input type="date">
                                    </div>
                                    <div>
                                        <label for="">Data Máxima</label>
                                        <input type="date">
                                    </div>
                                </div>
                                <div class="g g-2">
                                    <div>
                                        <label for="">Planos</label>
                                        <select>
                                            <option value="">Basico R$25,00</option>
                                            <option value="">Medio R$50,00</option>
                                            <option value="">Master R$100,00</option>
                                            <option value="">Todos</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="">Status</label>
                                        <select>
                                            <option value="">Pago</option>
                                            <option value="">Pendente</option>
                                            <option value="">Cancelado</option>
                                            <option value="">Todos</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="g g-2">
                                    <div>
                                        <button type="submit" class="btn btn--success">
                                            Etiqueta Endereço
                                        </button>
                                    </div>
                                    <div>
                                        <button type="submit" class="btn btn--success">
                                            Declaração de Conteúdo
                                        </button>
                                    </div>
                                </div>

                            </div>
                            <div>
                                <div>
                                    <label for="">Valor Total</label>
                                    <input type="text" placeholder="0,00">
                                </div>
                                <div class="space"></div>
                                <div class="table">
                                    <div>
                                        <div>Livreto</div>
                                        <div>1</div>
                                        <div>100kg</div>
                                        <div>X</div>
                                    </div>
                                    <div>
                                        <div>Marca Livro</div>
                                        <div>1</div>
                                        <div>120kg</div>
                                        <div>X</div>
                                    </div>
                                </div>
                                <div class="space"></div>
                                <div class="g g-3">
                                    <div>
                                        <label for="">Descrição</label>
                                        <input type="text" placeholder="Digite nome item...">
                                    </div>
                                    <div>
                                        <label for="">Quantidade</label>
                                        <input type="number" placeholder="1">
                                    </div>
                                    <div>
                                        <label for="">Peso</label>
                                        <input type="number" placeholder="2">
                                    </div>
                                    <center>

                                        <span type="submit" class="btn btn--success">
                                            Adicionar +
                                        </span>
                                    </center>
                                </div>
                            </div>

                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                    <div class="space"></div>
                </div>

            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-meu-plano">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Meu Plano</h1>
                    <div class="g g-2">
                        <div>
                            <h3>Historico</h3>
                            <div class="table">
                                <div>
                                    <span>
                                        <small>Valor</small> <br>
                                        R$0,000
                                    </span>
                                    <span>
                                        <small>Status</small> <br>
                                        <span class="table_btn table_btn_status">
                                            Pendente
                                        </span>
                                    </span>
                                    <span>
                                        <small>Data</small> <br>
                                        DD/MM/YYYY
                                    </span>
                                    <span>
                                        <a href="#/doacoes-detalhe/+doacao.doador_id" class="table_btn">
                                            <img src="./assets/icon/eye.svg">
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <form class="form">
                            <h3>Planos</h3>
                            <div>
                                <label v-for="plano in planos">
                                    <input type="radio" v-model="plano_id" :value="plano.id" name="planos_doardigital">
                                    {{plano.preco|money}} ao mês / {{plano.instancias}} instituição
                                </label> <br>
                                
                            </div>
                            <h3>Cartão de credito</h3>
                            <div>
                                <label for="">Número cartão</label>
                                <input type="text" placeholder="0000 0000 0000 0000" required>
                            </div>
                            <div class="g g-2">
                                <div>
                                    <label for="">Validade</label>
                                    <input type="text" placeholder="DD/YY" required>
                                </div>
                                <div>
                                    <label for="">CVV</label>
                                    <input type="text" placeholder="" required>
                                </div>
                            </div>
                            <div>
                                <label for="">Número cartão</label>
                                <input type="text" placeholder="0000 0000 0000 0000" required>
                            </div>
                            <div>
                                <label for="">Cupom</label>
                                <input type="text" placeholder="#DOARDIGITAL_00545214" required>
                            </div>
                            <center>
                                <h2>Total a pagar {{print_valor|money}}</h2>
                                <small>30 dias de teste</small>
                            </center>
                            <div class="space"></div>
                            <div>
                                <button type="submit" class="btn btn--success">Pagar Agora</button>
                            </div>
                        </form>
                    </div>

                </div>

            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-privacidade">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Política de Privacidade</h1>
                    <form action="javascript:void(0)" class="form" @submit="save">
                        <div class="editor">
                            <span>
                                <img src="./assets/editor/t.svg" @click="title">
                                <img src="./assets/editor/b.svg" @click="bold">
                                <img src="./assets/editor/i.svg" @click="italic">
                                <img src="./assets/editor/list.svg" @click="list">
                            </span>
                            <div :disabled="is_flag" :contenteditable="!is_flag" @input="input" v-html="content"></div>
                        </div>
                        <div>
                            <button type="submit" class="btn btn--success"> Salvar</button>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-config">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Configuração</h1>
                    <form action="javascript:void(0)" @submit="save()" class="form">
                        <div>
                            <label for="">Titulo do Site</label>
                            <input type="text" maxlength="75" :disabled="is_flag" v-model="playload.title">
                        </div>
                        <div>
                            <label for="">Descrição Google</label>
                            <textarea rows="3" :disabled="is_flag" maxlength="146"
                                v-model="playload.description"></textarea>
                        </div>
                        <div>
                            <label for="">Tags Google</label>
                            <input type="text" :disabled="is_flag" maxlength="75" v-model="playload.tag">
                        </div>
                        <div class="space"></div>
                        <div class="g g-3">
                            <button type="submit" :disabled="is_flag" class="btn btn--success">Salvar</button>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-instituicao">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Informação da Instituição</h1>
                    <form action="javascript:void(0)" @submit="save()" class="form">
                        <div>
                            <label for="">Nome Fantasia</label>
                            <input type="text" v-model="form.nome_fantasia">
                        </div>
                        <div class="g g-2">
                            <div>
                                <label for="">Razão Social</label>
                                <input type="text" v-model="form.razao_social">
                            </div>
                            <div>
                                <label for="">CPF/CNPJ</label>
                                <input type="text" @input="cpf_cnpj" v-model="form.cnpj">
                            </div>
                        </div>
                        <div class="g g-2">
                            <div>
                                <label for="">Telefone</label>
                                <input type="text" @input="telefone" v-model="form.telefone">
                            </div>
                            <div>
                                <label for="">E-mail</label>
                                <input type="text" v-model="form.email">
                            </div>
                        </div>
                        <h2>Domínio</h2>
                        <div>
                            <input type="radio" v-model="form.domain_person" value="sub" name="type_domains" checked>
                            Subdominio
                            <input type="radio" v-model="form.domain_person" value="person" name="type_domains"> Domínio
                            Personalizado
                        </div>
                        <div class="note" v-if="form.domain_person == 'sub'">
                            <div class="input-note subdomain">
                                <input type="text" v-model="form.subdominio" placeholder="subdominio"
                                    class="input-note">
                                <strong>.doardigital.com.br</strong>
                            </div>
                        </div>
                        <div class="note" v-if="form.domain_person == 'person'">
                            <input type="text" v-model="form.dominio" placeholder="seudominio.com.br"
                                class="input-note">
                            <h5>Configurar domínio personalizado</h5>
                            <p>
                                Entre no painel onde você adiquiriu o dominio, procure por
                                zona de DNS e preencha com os dados abaixo, antes de salvar as alterações
                            </p>
                            <ul>
                                <li>ns33.i7host.com.br</li>
                                <li>ns34.i7host.com.br</li>
                            </ul>
                        </div>
                        <h2>Endereço</h2>
                        <div class="g g-2">
                            <div>
                                <label for="">CEP</label>
                                <div class="grid-search">
                                    <input type="text" maxlength="8" minlength="8" v-model="form.cep">
                                    <img @click="busca_cep" src="./assets/icon/search.svg">
                                </div>
                            </div>
                            <div>
                                <label for="">Rua/Avenida Nº</label>
                                <input type="text" v-model="form.rua">
                            </div>
                        </div>
                        <div class="g g-2">
                            <div>
                                <label for="">Complemento</label>
                                <input type="text" v-model="form.complemento">
                            </div>
                            <div>
                                <label for="">Bairro</label>
                                <input type="text" v-model="form.bairro">
                            </div>
                            <div>
                                <label for="">Cidade</label>
                                <input type="text" v-model="form.cidade">
                            </div>
                            <div>
                                <label for="">Estado</label>
                                <input type="text" v-model="form.estado">
                            </div>
                        </div>
                        <h2>Dados Bancario</h2>
                        <div class="g g-3">
                            <div>
                                <label for="">Código Banco</label>
                                <input type="text" v-model="form.banco_conta.codigo_banco">
                            </div>
                            <div>
                                <label for="">Agencia</label>
                                <input type="text" v-model="form.banco_conta.agencia">
                            </div>
                            <div>
                                <label for="">Agencia Dígito</label>
                                <input type="text" v-model="form.banco_conta.agencia_dv">
                            </div>
                        </div>
                        <div class="g g-3">
                            <div>
                                <label for="">Conta</label>
                                <input type="text" v-model="form.banco_conta.conta">
                            </div>
                            <div>
                                <label for="">Conta Dígito</label>
                                <input type="text" v-model="form.banco_conta.conta_dv">
                            </div>
                            <div>
                                <label for="">Tipo</label>
                                <select model="banco_conta.tipo">
                                    <option value="conta_corrente">Conta Corrente</option>
                                    <option value="conta_poupanca"> Conta poupanca </option>
                                    <option value="conta_corrente_conjunta"> Conta corrente conjunta </option>
                                    <option value="conta_poupanca_conjunta"> Conta poupanca conjunta </option>
                                </select>
                            </div>
                        </div>
                        <div class="g g-2">
                            <div>
                                <label for="">CNPJ</label>
                                <input type="text" @input="cnpj" v-model="form.banco_conta.cnpj">
                            </div>
                            <div>
                                <label for="">Nome</label>
                                <input type="text" v-model="form.banco_conta.nome">
                            </div>

                        </div>
                        <div class="g g-3">
                            <button type="submit" class="btn btn--success">Salvar</button>
                        </div>
                        <span @click="feedback.status=null" v-if="feedback.status != null" :class="feedback.status"> {{
                            feedback.message }} </span>
                    </form>
                </div>
                <div class="body_box">
                    <h2>Adiministradores</h2>
                    <div class="admins-gravatar">
                        <div class="gravatar-item" v-for="email in admins">
                            <span @click="remove_admin(email)">x</span>
                            <img :title="email" :src="'http://brc.doardigital.com.br/utils/gravatar/?email='+email"
                                alt="brunnocriacoes@gmail.com">
                        </div>
                    </div>
                    <form action="javscript:void(0)" @submit="add_admin" class="form">
                        <div class="g g-2">
                            <div>
                                <label for="">E-mail</label>
                                <input type="email" required v-model="email_admin" placeholder="email">
                            </div>
                            <div>
                                <label for="">.</label>
                                <button type="submit" class="btn btn--success">
                                    Adicionar Administrador
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <c-footer></c-footer>
            <div class="loading" v-if="loading"></div>
        </div>
    </template>


    <template id="c-script">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1> Codigos </h1>
                    <form action="javascript:void(0)" @submit="save()" class="form">
                        <div>
                            <label for="">Header</label>
                            <textarea :disabled="is_flag" rows="7" v-model="playload.header"></textarea>
                        </div>
                        <div>
                            <label for="">Start Body</label>
                            <textarea :disabled="is_flag" rows="7" v-model="playload.body"></textarea>
                        </div>
                        <div>
                            <label for="">Final Body</label>
                            <textarea :disabled="is_flag" rows="7" v-model="playload.footer"></textarea>
                        </div>
                        <div class="g g-3">
                            <button :disabled="is_flag" type="submit" class="btn btn--success">Salvar</button>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-modulos">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box body_box--transparent">
                    <h1>Modulos</h1>
                    <div class="g g-3">
                        <div class="modulo" v-for="modulo in modulos">
                            <img :src="'./assets/logo-modulos/'+modulo.logo">
                            <span v-if="modulo.feature_flag">
                                <a :href="modulo.link">
                                    <img src="./assets/icon/gear.svg">
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <c-footer></c-footer>
        </div>
    </template>



    <template id="c-doadores">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <div class="filtros">
                        <div>Filtros</div>
                        <div>
                            <small>Periodo</small> <br>
                            <select v-model="periodo">
                                <option :value="periodo">Hoje</option>
                                <option :value="periodo - 86400">Ontem</option>
                                <option :value="periodo - (7*86400)">Últimos 7 dias</option>
                                <option value="periodo - (30*86400)">Últimos 30 dias</option>
                                <option value="periodo - (360*86400)">Este Ano</option>
                                <option value="1">Escolher Periodo</option>
                            </select>
                        </div>
                        <div>
                            <small>Data Ínicio</small> <br>
                            <input type="date" :disabled="periodo!=1" v-model="data_min">
                        </div>
                        <div>
                            <small>Data Final</small> <br>
                            <input type="date" :disabled="periodo!=1" v-model="data_max">
                        </div>
                        <div>
                            <small>Plano</small> <br>
                            <select disabled>
                                <option value="" >Todos</option>
                                <option value="">Basico</option>
                                <option value="">Medio</option>
                                <option value="">Avançado</option>
                            </select>
                        </div>
                        <div>
                            <small>Exportar CSV</small> <br> <!-- %0A -->
                            <a :href="link" download="doadores.csv">
                                Exportar
                            </a>
                        </div>
                    </div>
                </div>
                <div class="body_box">
                    <div class="title_form">
                        <h1>Doadores</h1>
                        <form action="javascript:void(0)" class="busca-box">
                            <input type="text" required placeholder="Buscar...">
                            <button type="submit">
                                <img src="./assets/icon/search.svg">
                            </button>
                        </form>
                    </div>
                    <div class="space"></div>
                    <div class="table">
                        <div v-for="doador in doadores">
                            <span> <input type="checkbox"> </span>
                            <span><img class="gravatar" src="./assets/img/gravatar.png"></span>
                            <span class="w-50">
                                {{ doador.nome }} <br>
                                {{ doador.email }} <br>
                                {{ doador.telefone }} <br>
                            </span>
                            <span>
                                <small>Dada Cadastro</small> <br>
                                {{ doador.created_at | format_data }}
                            </span>
                            <span>
                                <span class="table_btn table_btn_status">Unico</span>
                            </span>
                            <span>
                                <a :href="'#/doador-hitorico/'+doador.id" class="table_btn">
                                    <img src="./assets/icon/eye.svg">
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-doacoes">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <div class="filtros">
                        <div>Filtros</div>
                        <div>
                            <small>Periodo</small> <br>
                            <select v-model="periodo">
                                <option :value="periodo">Hoje</option>
                                <option :value="periodo - 86400">Ontem</option>
                                <option :value="periodo - (7*86400)">Últimos 7 dias</option>
                                <option value="periodo - (30*86400)">Últimos 30 dias</option>
                                <option value="periodo - (360*86400)">Este Ano</option>
                                <option value="1">Escolher Periodo</option>
                            </select>
                        </div>
                        <div>
                            <small>Data Ínicio</small> <br>
                            <input type="date" :disabled="periodo!=1" v-model="data_min">
                        </div>
                        <div>
                            <small>Data Final</small> <br>
                            <input type="date" :disabled="periodo!=1" v-model="data_max">
                        </div>
                        <div>
                            <small>Status Pagamento</small> <br>
                            <select v-model="status">
                                <option value="1">Todos</option>
                                <option value="paid">Pago</option>
                                <option value="waiting_payment">Pendente</option>
                                <option value="canceled">Cancelado</option>
                            </select>
                        </div>
                        <div>
                            <small>Tipo Pagamento</small> <br>
                            <select v-model="tipo">
                                <option value="1">Todos</option>
                                <option value="cartao_credito">Cartão Credito</option>
                                <option value="boleto">Boleto</option>
                                <option value="pix">PIX</option>
                            </select>
                        </div>
                        <div>
                            <small>Exportar CSV</small> <br>
                            <a :href="link" download="relatorio-doacoes.csv">
                                Exportar
                            </a>
                        </div>
                    </div>
                </div>
                <div class="body_box">
                    <div class="title_form">
                        <h1>Doações</h1>
                        <form action="javascript:void(0)" class="busca-box">
                            <input type="text" v-model="s" required placeholder="Buscar...">
                            <button type="submit">
                                <img src="./assets/icon/search.svg">
                            </button>
                        </form>
                    </div>
                    <div class="space"></div>
                    <div class="table">
                        <div v-for="doacao in doacoes">
                            <span> <input type="checkbox"> </span>
                            <span><img class="gravatar" src="./assets/img/gravatar.png"></span>
                            <span>
                                <small>Doador</small> <br>
                                {{doacao.nome||'Não Informado'}}
                            </span>
                            <span>
                                <small>Valor</small> <br>
                                {{doacao.quantia || 0 | is_price }}
                            </span>
                            <span>
                                <small>Status</small> <br>
                                <span class="table_btn table_btn_status">{{doacao.status | status}} </span>
                            </span>
                            <span>
                                <small>Data</small> <br>
                                {{doacao.created_at | format_data}}
                            </span>
                            <span>
                                <small>Tipo</small> <br>
                                <span class="table_btn table_btn_status">{{doacao.tipo|tipo}}</span>
                            </span>
                            <span>
                                <small>Recorrente</small>
                                <span class="table_btn table_btn_status">NÂO</span>
                            </span>
                            <span>
                                <a :href="'#/doacoes-detalhe/'+doacao.doador_id" class="table_btn">
                                    <img src="./assets/icon/eye.svg">
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-credenciais">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1 class="title_form">
                        Credenciais
                        <a href="#/credenciais/nova" class="plus">
                            <img src="./assets/icon/plus.svg">
                        </a>
                    </h1>
                    <div class="table">
                        <div v-for="credencial in credenciais">
                            <span class="w25">{{ credencial.nome }}</span>
                            <span class="w-50">
                                <i class="tag" v-for="id in credencial.recursos.split(',')">
                                    {{ id | get_name_by_id }}
                                </i>
                            </span>
                            <a :href="'#/credenciais/editar/'+credencial.id" class="table_btn table_btn--edit w-40">
                                <img src="./assets/icon/edit.svg">
                            </a>
                            <a @dblclick="apagar( credencial.id )" title="Para Apagar de duplo click"
                                class="table_btn table_btn--trash w-40">
                                <img src="./assets/icon/trash.svg">
                            </a>
                        </div>
                    </div>
                </div>
                <div class="paginacao">
                    <a :href="'#/credenciais/'+(+step + 1)" @click="load(step+1)" v-for="step in steps"> {{ step + 1 }}
                    </a>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-credenciais-novo">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Adicione uma credencial</h1>
                    <form action="javascript:void(0)" class="form" @submit="adicionar()">
                        <label for="">Nome</label>
                        <input type="text" v-model="title" placeholder="informe um nome" required>
                        <div class="g g-2">
                            <label v-for="recurso in menus">
                                <input type="checkbox" v-model="checks[recurso.id]">
                                {{ recurso.text }}
                            </label>
                        </div>
                        <div class="space"></div>
                        <div class="g g-3">
                            <button type="submit" class="btn btn--success">Salvar</button>
                        </div>
                    </form>
                </div>
            </div>
            <c-footer></c-footer>
            <div class="loading" v-if="loading"></div>
        </div>
    </template>

    <template id="c-sass">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <div class="title_form">
                        <h1>
                            Minhas Instituições
                        </h1>
                        <form action="javascript:void(0)" @submit="search" class="busca-box">
                            <input type="text" v-model="s" required placeholder="O que você procura?">
                            <button type="submit">
                                <img src="./assets/icon/search.svg">
                            </button>
                        </form>
                        <a href="#/adionar-instituicao" class="plus">
                            <img src="./assets/icon/plus.svg">
                        </a>
                    </div>
                    <div class="space"></div>
                    <div class="table">
                        <div v-for="sass in playload">
                            <span class="w25">{{ sass.nome_fantasia }}</span>
                            <span class="w25">
                                <a :href="'//'+sass.subdominio" target="_blank" rel="noopener noreferrer">
                                    {{ sass.subdominio }}
                                </a>
                            </span>
                            <span>
                                <span @click="run( sass.id )" class="botao-criar">APROVAR</span>
                            </span>
                            <span :class="sass.ativo ? 'btn_ativo' : 'btn_inativo'">
                                {{ sass.ativo ? 'Ativo' : 'Inativo' }}
                            </span>
                            <a :href="'#/editar-instituicao/'+sass.id" class="table_btn table_btn--edit">
                                <img src="./assets/icon/edit.svg">
                            </a>
                        </div>
                    </div>
                </div>
                <div class="paginacao">
                    <a :href="'#/minhas-instituicoes/'+(+step + 1)" @click="load(step+1)" v-for="step in steps"> {{ step
                        + 1 }} </a>
                </div>
            </div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-usuarios">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1 class="title_form">
                        Usuários
                        <a href="#/usuario-novo" class="plus">
                            <img src="./assets/icon/plus.svg">
                        </a>
                    </h1>
                    <div class="table">
                        <div v-for="user in usuarios" v-if="user.ativo == 1">
                            <span><img class="gravatar" src="./assets/img/gravatar.png"></span>
                            <span>{{ user.nome }}</span>
                            <span>{{ user.telefone }}</span>
                            <span>{{ user.email }}</span>
                            <span>
                                <a :href="'#/usuarios/novo/'+user.id" class="table_btn">
                                    <img src="./assets/icon/edit.svg">
                                    <span>EDITAR</span>
                                </a>
                            </span>
                            <span>
                                <a @dblclick="del(user.id)" class="table_btn table_btn--trash"
                                    title="Para acabar use duplo click">
                                    <img src="./assets/icon/trash.svg">
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>


    <template id="c-usuarios-novo">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Usuário</h1>
                    <form action="javascript:void(0)" class="form" @submit="salvar()">
                        <div class="g g-2">
                            <div>
                                <label for="">Nome</label>
                                <input type="text" v-model="form.nome" placeholder="" required>
                            </div>
                            <div>
                                <label for="">Email</label>
                                <input type="email" v-model="form.email" placeholder="" required>
                            </div>
                        </div>
                        <div class="g g-2">
                            <div>
                                <label for="">Telefone</label>
                                <input type="text" v-model="form.telefone" placeholder="" required>
                            </div>
                            <div>
                                <label for="">Credencial</label>
                                <select v-model="form.credencial">
                                    <option :value="item.id" v-for=" item in credenciais "> {{ item.nome }} </option>
                                </select>
                            </div>
                        </div>
                        <div class="g g-2" v-if="id == null">
                            <div>
                                <label for="">Senha</label>
                                <input type="password" v-model="form.password" placeholder="" required>
                            </div>
                            <div>
                                <label for="">Confirm Senha</label>
                                <input type="password" v-model="form.password_confirm" placeholder="" required>
                            </div>
                        </div>
                        <div :class="error != null ? 'error' : 'success'" v-if="error != null "> {{error}} </div>
                        <div class="space"></div>
                        <div class="g g-3">
                            <button type="submit" class="btn btn--success">Salvar</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-planos">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1 class="title_form">
                        Planos
                        <a href="#/planos/novo" class="plus">
                            <img src="./assets/icon/plus.svg">
                        </a>
                    </h1>
                    <div class="table">
                        <div v-for="plano in planos" v-if="plano.id">
                            <span>{{ plano.nome }}</span>
                            <span>{{ plano.quantia | is_price }}</span>
                            <span>
                                <a :href="'#/planos/editar/'+plano.id" class="table_btn">
                                    <img src="./assets/icon/edit.svg">
                                    <span>EDITAR</span>
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-emails">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>Emails</h1>
                    <div class="table">
                        <div v-for="email in playload">
                            <span>{{ email.cat }}</span>
                            <span>
                                <a :disabled="is_flag"
                                    :href=" !is_flag ? '#/modelo-de-emails/'+email.id : '#/modelo-de-emails'"
                                    class="table_btn">
                                    <img src="./assets/icon/edit.svg">
                                    <span>EDITAR</span>
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-edit-modulo">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h1>{{title}}</h1>
                    <form action="javascript:void(0)" class="form" @submit="save()">
                        <div v-for=" input in autoForm ">
                            <label for="">{{input.label}}</label>
                            <input :disabled="is_flag" type="text" v-model="form[input.name]" placeholder="" required>
                        </div>
                        <div class="g g-3">
                            <button :disabled="is_flag" type="submit" class="btn btn--success">Salvar</button>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-emails-edit">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h2> {{ title }} </h2>
                    <small> {{ cat }} </small>
                    <form action="javascript:void(0)" class="form" @submit="save()">
                        <div>
                            <input :disabled="is_flag" type="text" v-model="title" placeholder="" required>
                        </div>
                        <div>
                            <textarea :disabled="is_flag" v-model="text" rows="3"></textarea>
                        </div>
                        <p>Você pode usar as seguintes Tags:</p>
                        <span>
                            <span class="tag" v-for="tag in tags">{{tag}}</span>
                        </span>
                        <div class="space"></div>
                        <div class="g g-3">
                            <button :disabled="is_flag" type="submit" class="btn btn--success">Salvar</button>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-planos-novo">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <c-step></c-step>
                <div class="body_box">
                    <h2> Plano </h2>
                    <form action="javascript:void(0)" class="form" @submit="save()">
                        <div class="g g-2">
                            <div>
                                <label for="">Nome</label>
                                <input type="text" v-model="form.nome" placeholder="" required>
                            </div>
                            <div>
                                <label for="">Valor</label>
                                <input :disabled="edit" type="text" v-model="form.amount" placeholder="" required>
                            </div>
                        </div>
                        <div class="g g-3">
                            <button type="submit" class="btn btn--success">Salvar</button>
                        </div>
                    </form>
                    <span v-if="error.status" :class="error.type"> {{error.text}} </span>
                </div>
            </div>
            <div class="loading" v-if="loading"></div>
            <c-footer></c-footer>
        </div>
    </template>

    <template id="c-">
        <div class="l-admin">
            <c-aside></c-aside>
            <c-header></c-header>
            <div class="a-body">
                <div class="body_box">
                    <h1>Metas 2021</h1>
                    <form action="javascript:void(0)" class="form">

                    </form>
                </div>
            </div>
            <c-footer></c-footer>
        </div>
    </template>



</body>

</html>